<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="WjStatsReportLangDAO">

    <select id="selectStatsReportLang"
            parameterType="wj.com.cms.wj.stats.vo.WjStatsReportLangVO"
            resultType="wj.com.cms.wj.stats.vo.WjStatsReportLangVO">
        SELECT
             REPORT_SNO
            ,COUNTRY_GB
            ,AREA_CODE
            ,COUNTRY_CODE
            ,LANG_CODE
            ,ASSOCIATION_NAME
            ,MEMO
        FROM WJ_STATS_REPORT_LANG SRL
        WHERE 1=1
          AND SRL.REPORT_SNO =#{reportSno}
          AND SRL.LANG_CODE =#{langCode}
    </select>
    <select id="selectStatsReportLangTotalCount"
        parameterType="wj.com.cms.wj.stats.vo.WjStatsReportLangVO"
        resultType="int">
        SELECT COUNT(*) totcnt
        FROM WJ_STATS_REPORT_LANG SRL
        WHERE 1=1

    </select>
    <select id="selectStatsReportLangList"
        parameterType="wj.com.cms.wj.stats.vo.WjStatsReportLangVO"
        resultType="wj.com.cms.wj.stats.vo.WjStatsReportLangVO">
        SELECT
             SRL.REPORT_SNO
            ,SRL.COUNTRY_GB
            ,SRL.AREA_CODE
            ,SRL.COUNTRY_CODE
            ,SRL.LANG_CODE
            ,SRL.ASSOCIATION_NAME
            ,SRL.MEMO
        FROM WJ_STATS_REPORT_LANG SRL
        WHERE 1=1
<!--        <if test="searchCondition == 0">AND-->
<!--            FI.FESTIVITY_ID LIKE CONCAT('%' , #{searchKeyword}, '%')-->
<!--        </if>-->
<!--        <if test="searchCondition == 1">AND-->
<!--            FI.FESTIVITY_NM LIKE CONCAT('%' , #{searchKeyword}, '%')-->
<!--        </if>-->
        order by FI.REG_DT desc
        LIMIT #{recordCountPerPage} OFFSET #{firstIndex}
    </select>

    <insert id="insertStatsReportLang">
        <![CDATA[
            INSERT INTO WJ_STATS_REPORT_LANG(
                 REPORT_SNO
                ,COUNTRY_GB
                ,AREA_CODE
                ,COUNTRY_CODE
                ,LANG_CODE
                ,ASSOCIATION_NAME
                ,MEMO

            ) VALUES (
                 #{reportSno}
                ,#{countryGb}
                ,#{areaCode}
                ,#{countryCode}
                ,#{langCode}
                ,#{associationName}
                ,#{memo}
                     )
        ]]>
    </insert>
    <update id="updateStatsReportLang">
        UPDATE WJ_STATS_REPORT_LANG SET
             REPORT_SNO = #{reportSno}
            ,COUNTRY_GB = #{countryGb}
            ,AREA_CODE = #{areaCode}
            ,COUNTRY_CODE = #{countryCode}
            ,LANG_CODE = #{langCode}
            ,ASSOCIATION_NAME = #{associationName}
            ,MEMO = #{memo}
        WHERE 1=1
        AND REPORT_SNO = #{reportSno}
        AND LANG_CODE = #{langCode}
    </update>

</mapper>