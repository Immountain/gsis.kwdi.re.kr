<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="WjProgramSubLangDAO">

    <select id="selectProgramSubLang"
            parameterType="wj.com.cms.wj.program.vo.WjProgramSubLangVO"
            resultType="wj.com.cms.wj.program.vo.WjProgramSubLangVO">
        SELECT
             PSL.FESTIVITY_ID
            ,PSL.PROGRAM_SNO
            ,PSL.PROGRAM_SUB_SNO
            ,PSL.LANG_CODE
            ,PSL.CONT_TITLE
            ,PSL.MAIN_TITLE
            ,PSL.MAIN_NAME
            ,PSL.MAIN_INFO
            ,PSL.MAIN_ETC
            ,PSL.REG_DT
            ,PSL.REG_ID
            ,PSL.MOD_DT
            ,PSL.MOD_ID
        FROM WJ_PROGRAM_SUB_LANG PSL
        WHERE 1=1
          AND PSL.PROGRAM_SUB_SNO =#{programSubSno}
          AND PSL.LANG_CODE =#{langCode}
    </select>
    <select id="selectProgramSubLangTotalCount"
        parameterType="wj.com.cms.wj.program.vo.WjProgramSubLangVO"
        resultType="int">
        SELECT COUNT(*) totcnt
        FROM WJ_PROGRAM_SUB_LANG PSL
        WHERE 1=1
          AND PSL.PROGRAM_SUB_SNO = ${programSno}

    </select>
    <select id="selectProgramSubLangList"
        parameterType="wj.com.cms.wj.program.vo.WjProgramSubLangVO"
        resultType="wj.com.cms.wj.program.vo.WjProgramSubLangVO">
        SELECT
             PSL.FESTIVITY_ID
            ,PSL.PROGRAM_SNO
            ,PSL.PROGRAM_SUB_SNO
            ,PSL.LANG_CODE
            ,PSL.CONT_TITLE
            ,PSL.MAIN_TITLE
            ,PSL.MAIN_NAME
            ,PSL.MAIN_INFO
            ,PSL.MAIN_ETC
            ,PSL.REG_DT
            ,PSL.REG_ID
            ,PSL.MOD_DT
            ,PSL.MOD_ID
        FROM PROGRAM_SUB_SNO PSL
        WHERE 1=1
        AND PS.PROGRAM_SUB_SNO = ${programSubSno}
    </select>

    <insert id="insertProgramSubLang">
        <![CDATA[
            INSERT INTO WJ_PROGRAM_SUB_LANG(
                 FESTIVITY_ID
                ,PROGRAM_SNO
                ,PROGRAM_SUB_SNO
                ,LANG_CODE
                ,CONT_TITLE
                ,MAIN_TITLE
                ,MAIN_NAME
                ,MAIN_INFO
                ,MAIN_ETC
                ,REG_DT
                ,REG_ID
            ) VALUES (
                 #{festivityId}
                ,#{programSno}
                ,#{programSubSno}
                ,#{langCode}
                ,#{contTitle}
                ,#{mainTitle}
                ,#{mainName}
                ,#{mainInfo}
                ,#{mainEtc}
                ,NOW()
                ,#{regId}
                     )
        ]]>
    </insert>
    <update id="updateProgramSubLang">
        UPDATE WJ_PROGRAM_SUB_LANG SET
             FESTIVITY_ID = #{festivityId}
            ,LANG_CODE = #{langCode}
            ,CONT_TITLE = #{contTitle}
            ,MAIN_TITLE = #{mainTitle}
            ,MAIN_NAME = #{mainName}
            ,MAIN_INFO = #{mainInfo}
            ,MAIN_ETC = #{mainEtc}
            ,MOD_DT = NOW()
            ,MOD_ID = #{modId}
        WHERE 1=1
        AND LANG_CODE = #{langCode}
        AND PROGRAM_SUB_SNO = #{programSubSno}
    </update>

</mapper>