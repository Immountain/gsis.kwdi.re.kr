<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="WjFestivityApplicationLangDAO">

    <select id="selectFestivityApplicationLang"
            parameterType="wj.com.cms.wj.festivity.vo.WjFestivityApplicationLangVO"
            resultType="wj.com.cms.wj.festivity.vo.WjFestivityApplicationLangVO">
        SELECT
             FAL.FESTIVITY_ID
            ,FAL.APPLICATION_ID
            ,FAL.LANG_CODE
            ,FAL.APPLICATION_TITLE
            ,FAL.CONTENT_INFO
            ,FAL.MEMO
            ,FAL.REG_ID
            ,FAL.REG_DT
            ,FAL.MOD_ID
            ,FAL.MOD_DT
        FROM WJ_FESTIVITY_APPLICATION_LANG FAL
        WHERE 1=1
          AND FAL.APPLICATION_ID =#{applicationId}
          AND FAL.LANG_CODE = #{langCode}
    </select>
    <select id="selectFestivityApplicationLangTotalCount"
        parameterType="wj.com.cms.wj.festivity.vo.WjFestivityApplicationLangVO"
        resultType="int">
        SELECT COUNT(*) totcnt
        FROM WJ_FESTIVITY_APPLICATION_LANG FAL
        WHERE 1=1

    </select>
    <select id="selectFestivityApplicationLangList"
        parameterType="wj.com.cms.wj.festivity.vo.WjFestivityApplicationLangVO"
        resultType="wj.com.cms.wj.festivity.vo.WjFestivityApplicationLangVO">
        SELECT
             FAL.FESTIVITY_ID
            ,FAL.APPLICATION_ID
            ,FAL.LANG_CODE
            ,FAL.APPLICATION_TITLE
            ,FAL.CONTENT_INFO
            ,FAL.MEMO
            ,FAL.REG_ID
            ,FAL.REG_DT
            ,FAL.MOD_ID
            ,FAL.MOD_DT
        FROM WJ_FESTIVITY_APPLICATION_LANG FAL
        WHERE 1=1
        order by FAL.REG_DT desc
        LIMIT #{recordCountPerPage} OFFSET #{firstIndex}
    </select>

    <insert id="insertFestivityApplicationLang">
        <![CDATA[
            INSERT INTO WJ_FESTIVITY_APPLICATION_LANG(
                 FESTIVITY_ID
                ,APPLICATION_ID
                ,LANG_CODE
                ,APPLICATION_TITLE
                ,CONTENT_INFO
                ,MEMO
                ,REG_ID
                ,REG_DT
            ) VALUES (
                 #{festivityId}
                ,#{applicationId}
                ,#{langCode}
                ,#{applicationTitle}
                ,#{contentInfo}
                ,#{memo}
                ,#{regId}
                ,NOW()
                     )
        ]]>
    </insert>
    <update id="updateFestivityApplicationLang">
        UPDATE WJ_FESTIVITY_APPLICATION_LANG SET
             FESTIVITY_ID = #{festivityId}
            ,APPLICATION_ID = #{applicationId}
            ,LANG_CODE = #{langCode}
            ,APPLICATION_TITLE = #{applicationTitle}
            ,CONTENT_INFO = #{contentInfo}
            ,MEMO = #{memo}
            ,MOD_ID = #{modId}
            ,MOD_DT = NOW()
        WHERE 1=1
        AND APPLICATION_ID = #{applicationId}
        AND LANG_CODE= #{langCode}
    </update>
</mapper>